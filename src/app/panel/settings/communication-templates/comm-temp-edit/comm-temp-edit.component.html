<app-header></app-header>
<!-- Content Box -->
<div class="content-box">
  <app-sub-header></app-sub-header>
</div>
<div class="h-tab-content">
  <div class="card ">
    <ul class="overview-links endpage-navbar">
      <li><a routerLink="/panel/settings/">Overview</a></li>
      <li class="active"><a routerLink="communication-template">Communication Templates</a></li>
      <li><a routerLink="/panel/settings/incentive-model">Incentive Model </a></li>
      <li><a routerLink="/panel/settings/endpage">End pages</a></li>
    </ul>
    <div class="target-tab">
      <div class="profile-left target-w100">
        <div class="tab-conten profiletab-content">
          <div class="row">
            <div class="col-8">
              <div class="t-head-heading panel-icon mt-10 mb-3 c-pointer" (click)="cs.back();">
                <h2><i class="icon icon-arrow-left"></i> Communication Templates - {{comm_data.medium_type}}</h2>
              </div>
              <div class="select-question sset email-tmplt">
                <!-- <div class="row">
                  <div class="col-6">
                    <ng-select class="rch-ind drop-select" placeholder="Select Option" [options]="languageOptions"
                      [(ngModel)]="dataObj.language_id" label="Language" name="language_id" id="language">
                    </ng-select>
                  </div> -->
              </div>
              <div class="col-12" *ngIf="comm_data.medium_type == 'Email' || comm_data.medium_type == 'Fax'">
                <div class="input-box">
                  <label class="inp-label">Subject</label>
                  <input type="text" placeholder="eg. mumbai ux group" class="inp-field" id="qtText"
                    [(ngModel)]="editComp.subject" name="text" #subject="ngModel" required>
                  <!-- <div *ngIf="qestext.touched && !qestext.valid">
                      <div class="validation-message2" *ngIf="qestext.errors.required">required</div>
                    </div> -->
                  <!-- <div id="text" class="display-none"></div> -->
                </div>
              </div>
              <div class="text-right" *ngIf="comm_data.medium_type == 'Email'">
                <a href="javascript:void(0);" class="preview" data-toggle="modal"
                  data-target="#priviewModel">Preview</a>
              </div>
              <div class="t-head-box sched-border">
                <!-- <div class="new-profile html-editor w-100">
                  <h4 class="">Screenout</h4>
                  <div ace-editor [(text)]="editComp.content" [mode]="'sql'" [theme]="'eclipse'" [options]="options"
                    [readOnly]="false" [autoUpdateContent]="true" [durationBeforeCallback]="1000"
                    (textChanged)="onChange($event)" style="min-height: 200px; width:100%; overflow: auto;"></div>
                </div> -->
                <div class="position-relative w-100" [hidden]="editComp.medium_type != 'Email'">
                  <label for="" class="inp-label">Content</label>
                  <div id="summernote"></div>
                  <div id="contentt" class="validation-message d-none">
                    <div>required</div>
                  </div>
                  <div id="content" class="display-none"></div>
                </div>
                <div class="position-relative w-100" [hidden]="editComp.medium_type == 'Email'">
                  <label for="" class="inp-label">Content</label>
                  <textarea name="content" style="border: 1px solid #e5e6eb;" class="w-100 mt-2 p-2"
                    [(ngModel)]="editComp.content" rows="5">{{editComp.content}}</textarea>
                  <div id="contentt" class="validation-message d-none">
                    <div>required</div>
                  </div>
                  <div id="content" class="display-none"></div>
                </div>
              </div>
              <div class="col-12">
                <button href="javascript:void(0);"
                  (click)="updateCommunicationTemplate('confirmtxtid', 'confirmlodImg');" class="button1 nav-btn mt-3">
                  <span id="confirmtxtid">Update</span>
                  <img src="assets/img/loading.gif" alt="loderImg" id="confirmlodImg" class="loderImg">
                  <!-- <img src="assets/img/loading.gif" alt="loderImg" id="confirmlodImg" class="loderImg"> -->
                </button>
              </div>
            </div>
          </div>
          <!-- col-8 -->
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="priviewModel" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><img src="../../../assets/img/cross-red.png" alt=""></span>
        </button>
      </div>
      <div class="modal-body confirm-box">
        <h2>Preview</h2>
        <div [innerHtml]="editComp.content"></div>
      </div>
    </div>
  </div>
</div>