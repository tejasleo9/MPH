<app-header></app-header>

<!-- Content Box -->
<div class="content-box">
  <app-sub-header></app-sub-header>
</div>
<div class="h-tab-content">
  <ul class="overview-links six-links">
    <li class="active"><a routerLink="/panel/panel-management/panelists/overview">Overview</a></li>
    <li><a routerLink="/panel/panel-management/panelists/project-history">Project History</a></li>
    <li><a routerLink="/panel/panel-management/panelists/point-history">Point History</a></li>
    <li><a routerLink="/panel/panel-management/panelists/redemption-history">Redemption History</a></li>
    <li><a routerLink="/panel/panel-management/panelists/referral-history">Referral History</a></li>
    <li><a routerLink="/panel/panel-management/panelists/profile-completion">Profile Completion</a></li>
  </ul>
  <div class="basic-overview overview-box">
    <div class="row">
      <div class="col">
        <div class="card card points-card oberviewBoxMain">
          <h2 class="inp-label"> Ranking</h2>
          <div class="row">
            <div class="col">
              <div class="color color-lblue">
                <h4 *ngIf="panelistDetails?.health_meter_survey?.started != null">
                  {{panelistDetails?.health_meter_survey?.started + panelistDetails?.health_meter_survey?.completed + panelistDetails?.health_meter_survey?.invalid}}
                </h4>
                <span>Surveys</span>
              </div>
            </div>
            <div class="col">
              <div class="color color-lgrn">
                <h4 *ngIf="panelistDetails?.health_meter_survey?.started === null">NA</h4>
                <h4 *ngIf="panelistDetails?.health_meter_survey?.started != null">
                  {{panelistDetails?.health_meter_survey?.started}}</h4>
                <span>Started</span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="color color-lorg">
                <h4 *ngIf="panelistDetails?.health_meter_survey?.completed === null">NA</h4>
                <h4 *ngIf="panelistDetails?.health_meter_survey?.completed != null">
                  {{panelistDetails?.health_meter_survey?.completed}}</h4>
                <span>Completed</span>
              </div>
            </div>
            <div class="col">
              <div class="color color-lprpl">
                <h4 *ngIf="panelistDetails?.health_meter_survey?.invalid === null">NA</h4>
                <h4 *ngIf="panelistDetails?.health_meter_survey?.invalid != null">
                  {{panelistDetails?.health_meter_survey?.invalid}}</h4>
                <span>Denied</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card points-card oberviewBoxMain">
          <h2 class="inp-label">Points </h2>
          <div class="row">
            <div class="col">
              <div class="color color-lylw">
                <h4>{{panelistDetails?.total_points}}</h4>
                <span>Earned</span>
              </div>
            </div>
            <div class="col">
              <div class="color color-lprpl1">
                <h4 *ngIf="panelistDetails?.redeemed_points === null">NA</h4>
                <h4 *ngIf="panelistDetails?.redeemed_points != null">{{panelistDetails?.redeemed_points}}</h4>
                <span>Redeemed</span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="color color-lorg1">
                <h4 *ngIf="panelistDetails?.available_points === null">NA</h4>
                <h4 *ngIf="panelistDetails?.available_points != null">{{panelistDetails?.available_points}}</h4>
                <span>Available</span>
              </div>
            </div>
            <div class="col">
              <div class="color color-lblue1">
                <h4 *ngIf="panelistDetails?.profile_depth === null">NA</h4>
                <h4 *ngIf="panelistDetails?.profile_depth != null">{{panelistDetails?.profile_depth}} </h4>
                <span>Profile Depth</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <div class="oberviewBoxMain card">
        <h2>Basic <i class="ico-moon icon-pencil blue" style="margin-left: 15px;" (click)="editBasicInfo();"></i></h2>
        <ul>
          <li><span>Panelist ID </span> {{panelistDetails['id'] == null ? 'NA': panelistDetails['id']}}
          </li>
          <li>
            <span>Panelist Name </span> {{panelistDetails['first_name'] == null ? 'NA': panelistDetails['first_name']}}
            {{panelistDetails['last_name'] == null ? 'NA': panelistDetails['last_name']}}
          </li>
          <li>
            <span>Postal Code </span> {{panelistDetails['postalcode'] == null ? 'NA': panelistDetails['postalcode']}}
          </li>
          <li>
            <span>Date Created </span> {{created_at == null ? 'NA': created_at}}
          </li>
        </ul>
      </div>
    </div>
    <div class="col-md-4">
      <div class="oberviewBoxMain card">
        <h2>Dates</h2>
        <ul>
          <li><span>Last Invited </span>
            {{panelistDetails['last_invite_sent_at'] == null ? 'NA': panelistDetails['last_invite_sent_at']}}
          </li>
          <li><span>Last Responded </span>
            {{panelistDetails['last_survey_responded_at'] == null ? 'NA': panelistDetails['last_survey_responded_at']}}
          </li>
          <li><span>Last Login </span>
            {{panelistDetails['last_logged_in'] == null ? 'NA': panelistDetails['last_logged_in']}}
          </li>
        </ul>
      </div>
    </div>
    <div class="col-md-4">
      <div class="oberviewBoxMain card">
        <h2>Source</h2>
        <ul>
          <li><span>Referred by </span> {{panelistDetails['referal'] == null ? 'NA': panelistDetails['referal']}}
          </li>
          <li><span>Source </span> {{panelistDetails['reg_source'] == null ? 'NA': panelistDetails['reg_source']}}
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="oberviewBoxMain card">
        <h2>Registrations</h2>
        <div class="row">
          <div class="col-md-6">
            <ul>
              <li><span>Registered IP
                </span>{{panelistDetails['registered_from_ip'] == null ? 'NA': panelistDetails['registered_from_ip']}}
              </li>
              <li><span>Registered Device
                </span>{{panelistDetails['device_type'] == null ? 'NA': panelistDetails['device_type']}}</li>
            </ul>
          </div>
          <div class="col-md-6">
            <ul>
              <li><span>Registration Mode
                </span>{{panelistDetails['reg_medium'] == null ? 'NA': panelistDetails['reg_medium']}}</li>
              <li><span>Registered Source
                </span>{{panelistDetails['reg_source'] == null ? 'NA': panelistDetails['reg_source']}}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="oberviewBoxMain card">
        <h2>Others</h2>
        <div class="row">
          <div class="col-md-6">
            <ul>
              <li><span>App Users </span>
                <!-- {{Yes}} -->
                <!-- <i class="ico-moon icon-right green"></i> -->
                <!-- <i class="ico-moon icon-close red"></i> -->
              </li>
              <li><span>SMS Invite </span>
                <!-- <i class="ico-moon icon-right green"></i> -->
                <!-- <i class="ico-moon icon-close red"></i> -->
              </li>
            </ul>
          </div>
          <div class="col-md-6">
            <ul>
              <li><span>Social Media Follower </span>
                <!-- {{Yes}} -->
                <!-- <i class="ico-moon icon-right green"></i> -->
                <!-- <i class="ico-moon icon-close red"></i> -->
              </li>
              <li><span>Desktop Notification </span>
                <!-- {{Yes}} -->
                <i *ngIf="panelistDetails['desktop_notification'] == 1" class="ico-moon icon-right green"></i>
                <i *ngIf="panelistDetails['desktop_notification'] == 0" class="ico-moon icon-close red"></i>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- h-tab-content -->

<!-- modalpopup -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><img src="./assets/img/cross-red.png" alt=""></span>
        </button>
      </div>
      <div class="modal-body new-exclusion">
        <h2>Add Panel</h2>
      </div>
    </div>
  </div>
</div>
<!-- modalpopup -->

<div class="modal fade" id="basicInfoUpdate" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><img src="../../../assets/img/cross-red.png" alt=""></span>
        </button>
      </div>
      <div class="modal-body confirm-box">
        <h2 class="text-left">Edit Basic Information</h2>
        <form (ngSubmit)="validateFuncation(form, 'confirmtxtid', 'confirmlodImg')" #form="ngForm">
          <div class="row">
            <div class="col-6">
              <div class="input-box">
                <label class="inp-label">Name</label>
                <input type="text" placeholder="" class="inp-field" #basicname="ngModel"
                  [(ngModel)]="editbasic.first_name" name="first_name" required>
                <div *ngIf="basicname.touched && !basicname.valid">
                  <div *ngIf="basicname.errors.required" class="validation-message">Required</div>
                </div>
                <div id="first_name" class="display-none"></div>
              </div>
            </div>
            <div class="col-6">
              <div class="input-box">
                <label class="inp-label">Last Name</label>
                <input type="text" placeholder="" class="inp-field" #basiclname="ngModel"
                  [(ngModel)]="editbasic.last_name" name="last_name" required>
                <div *ngIf="basiclname.touched && !basiclname.valid">
                  <div *ngIf="basiclname.errors.required" class="validation-message">Required</div>
                </div>
                <div id="last_name" class="display-none"></div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="input-box">
                <label class="inp-label">Email</label>
                <input type="email" placeholder="eg. abc@example.com" class="inp-field" #basicemail="ngModel"
                  [(ngModel)]="editbasic.email" name="email" required>
                <div *ngIf="basicemail.touched && !basicemail.valid">
                  <div *ngIf="basicemail.errors.required" class="validation-message">Required</div>
                </div>
                <div id="email" class="display-none"></div>
              </div>
            </div>
            <div class="col-6">
              <div class="input-box">
                <label class="inp-label">Postal Code</label>
                <input type="text" placeholder="" class="inp-field" #basicposcode="ngModel"
                  [(ngModel)]="editbasic.postalcode" name="postalcode">
                <div id="postalcode" class="display-none"></div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="input-box">
                <label class="inp-label">Phone</label>
                <input type="text" placeholder="" class="inp-field" #basicpone="ngModel" [(ngModel)]="editbasic.phone"
                  name="phone">
                <div id="phone" class="display-none"></div>
              </div>
            </div>
            <div class="col-6">
              <div class="datepicker-box">
                <h3 class="inp-label" style="line-height: 18px;">Date of birth</h3>
                <div class="input-group date" data-date-format="dd-mm-yyyy">
                  <input class="form-control" type="text" (change)="getDate();" id="datetimepicker2" />
                  <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="region-radio active-radio">
                <h3 class="inp-label">Gender</h3>
                <span>
                  <input type="radio" name="gender" #gender="ngModel" [value]="1" [(ngModel)]="editbasic.gender"
                    id="gender1">
                  <label for="gender1">Male</label>
                </span>
                <span>
                  <input type="radio" name="gender" #gender="ngModel" [value]="0" [(ngModel)]="editbasic.gender"
                    id="gender2">
                  <label for="gender2">Female</label>
                </span>
              </div>
              <div *ngIf="gender.touched && !gender.valid">
                <div *ngIf="gender.errors.required" class="validation-message">Required</div>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-4">
              <div class="region-radio active-radio">
                <h3 class="inp-label">Status</h3>
                <span>
                  <input type="radio" name="status" [value]="1" [(ngModel)]="editbasic.status" id="reg1status1">
                  <label for="reg1status1">Active</label>
                </span>
                <span>
                  <input type="radio" name="status" [value]="0" [(ngModel)]="editbasic.status" id="reg1status2">
                  <label for="reg1status2">InActive</label>
                </span>
              </div>
            </div>
            <div class="col-4">
              <div class="region-radio active-radio">
                <h3 class="inp-label">Survey SMS</h3>
                <span>
                  <input type="radio" name="survey_sms_enabled" [value]="1" [(ngModel)]="editbasic.survey_sms_enabled"
                    id="sms1">
                  <label for="sms1">Yes</label>
                </span>
                <span>
                  <input type="radio" name="survey_sms_enabled" [value]="0" [(ngModel)]="editbasic.survey_sms_enabled"
                    id="sms2">
                  <label for="sms2">No</label>
                </span>
              </div>
            </div>
            <div class="col-4">
              <div class="region-radio active-radio">
                <h3 class="inp-label">Desktop Notification</h3>
                <span>
                  <input type="radio" name="desktop_notification" [value]="1"
                    [(ngModel)]="editbasic.desktop_notification" id="desnotification1">
                  <label for="desnotification1">Yes</label>
                </span>
                <span>
                  <input type="radio" name="desktop_notification" [value]="0"
                    [(ngModel)]="editbasic.desktop_notification" id="desnotification2">
                  <label for="desnotification2">No</label>
                </span>
              </div>
            </div>
          </div>
          <button class="button2" type="submit">
            <span id="confirmtxtid">Update</span>
            <img src="assets/img/loading.gif" alt="loderImg" id="confirmlodImg" class="loderImg">
          </button>
          <button class="button1 cancel-btn" data-dismiss="modal" aria-label="Close">Cancel</button>
        </form>
      </div>
    </div>
  </div>
</div>